apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: destinationrules.networking.istio.io
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    release: istio
  annotations:
    "helm.sh/resource-policy": keep
spec:
  group: networking.istio.io
  names:
    kind: DestinationRule
    categories:
    - istio-io
    - networking-istio-io
    listKind: DestinationRuleList
    plural: destinationrules
    shortNames:
    - dr
    singular: destinationrule
  scope: Namespaced
  versions:
  - name: v1alpha3
    additionalPrinterColumns:
    - name: Host
      type: string
      description: The name of a service from the service registry
      jsonPath: .spec.host
    - name: Age
      type: date
      description: 'CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
      jsonPath: .metadata.creationTimestamp
    schema:
      openAPIV3Schema:
        type: object
        properties:
          spec:
            type: object
            description: 'Configuration affecting load balancing, outlier detection, etc. See more details at: https://istio.io/docs/reference/config/networking/destination-rule.html'
            properties:
              exportTo:
                type: array
                description: A list of namespaces to which this destination rule is exported.
                items:
                  type: string
              host:
                type: string
                description: The name of a service from the service registry.
              subsets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      description: Name of the subset.
                    labels:
                      type: object
                      additionalProperties:
                        type: string
                    trafficPolicy:
                      type: object
                      description: Traffic policies that apply to this subset.
                      properties:
                        connectionPool:
                          type: object
                          properties:
                            http:
                              type: object
                              description: HTTP connection pool settings.
                              properties:
                                h2UpgradePolicy:
                                  type: string
                                  description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                  enum:
                                  - DEFAULT
                                  - DO_NOT_UPGRADE
                                  - UPGRADE
                                http1MaxPendingRequests:
                                  type: integer
                                  description: Maximum number of pending HTTP requests to a destination.
                                  format: int32
                                http2MaxRequests:
                                  type: integer
                                  description: Maximum number of requests to a backend.
                                  format: int32
                                idleTimeout:
                                  type: string
                                  description: The idle timeout for upstream connection pool connections.
                                maxRequestsPerConnection:
                                  type: integer
                                  description: Maximum number of requests per connection to a backend.
                                  format: int32
                                maxRetries:
                                  type: integer
                                  format: int32
                                useClientProtocol:
                                  type: boolean
                                  description: If set to true, client protocol will be preserved while initiating connection to backend.
                            tcp:
                              type: object
                              description: Settings common to both HTTP and TCP upstream connections.
                              properties:
                                connectTimeout:
                                  type: string
                                  description: TCP connection timeout.
                                maxConnections:
                                  type: integer
                                  description: Maximum number of HTTP1 /TCP connections to a destination host.
                                  format: int32
                                tcpKeepalive:
                                  type: object
                                  description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                  properties:
                                    interval:
                                      type: string
                                      description: The time duration between keep-alive probes.
                                    probes:
                                      type: integer
                                    time:
                                      type: string
                        loadBalancer:
                          type: object
                          description: Settings controlling the load balancer algorithms.
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - simple
                              - properties:
                                  consistentHash:
                                    oneOf:
                                    - not:
                                        anyOf:
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                required:
                                - consistentHash
                          - required:
                            - simple
                          - properties:
                              consistentHash:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            required:
                            - consistentHash
                          properties:
                            consistentHash:
                              type: object
                              properties:
                                httpCookie:
                                  type: object
                                  description: Hash based on HTTP cookie.
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the cookie.
                                    path:
                                      type: string
                                      description: Path to set for the cookie.
                                    ttl:
                                      type: string
                                      description: Lifetime of the cookie.
                                httpHeaderName:
                                  type: string
                                  description: Hash based on a specific HTTP header.
                                httpQueryParameterName:
                                  type: string
                                  description: Hash based on a specific HTTP query parameter.
                                minimumRingSize:
                                  type: integer
                                useSourceIp:
                                  type: boolean
                                  description: Hash based on the source IP address.
                            localityLbSetting:
                              type: object
                              properties:
                                distribute:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating locality, '/' separated, e.g.
                                      to:
                                        type: object
                                        additionalProperties:
                                          type: integer
                                        description: Map of upstream localities to traffic distribution weights.
                                enabled:
                                  type: boolean
                                  description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                  nullable: true
                                failover:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating region.
                                      to:
                                        type: string
                                failoverPriority:
                                  type: array
                                  description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                  items:
                                    type: string
                            simple:
                              type: string
                              enum:
                              - ROUND_ROBIN
                              - LEAST_CONN
                              - RANDOM
                              - PASSTHROUGH
                        outlierDetection:
                          type: object
                          properties:
                            baseEjectionTime:
                              type: string
                              description: Minimum ejection duration.
                            consecutive5xxErrors:
                              type: integer
                              description: Number of 5xx errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveErrors:
                              type: integer
                              format: int32
                            consecutiveGatewayErrors:
                              type: integer
                              description: Number of gateway errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveLocalOriginFailures:
                              type: integer
                              nullable: true
                            interval:
                              type: string
                              description: Time interval between ejection sweep analysis.
                            maxEjectionPercent:
                              type: integer
                              format: int32
                            minHealthPercent:
                              type: integer
                              format: int32
                            splitExternalLocalOriginErrors:
                              type: boolean
                              description: Determines whether to distinguish local origin failures from external errors.
                        portLevelSettings:
                          type: array
                          description: Traffic policies specific to individual ports.
                          items:
                            type: object
                            properties:
                              port:
                                type: object
                                properties:
                                  number:
                                    type: integer
                              connectionPool:
                                type: object
                                properties:
                                  http:
                                    type: object
                                    description: HTTP connection pool settings.
                                    properties:
                                      h2UpgradePolicy:
                                        type: string
                                        description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                        enum:
                                        - DEFAULT
                                        - DO_NOT_UPGRADE
                                        - UPGRADE
                                      http1MaxPendingRequests:
                                        type: integer
                                        description: Maximum number of pending HTTP requests to a destination.
                                        format: int32
                                      http2MaxRequests:
                                        type: integer
                                        description: Maximum number of requests to a backend.
                                        format: int32
                                      idleTimeout:
                                        type: string
                                        description: The idle timeout for upstream connection pool connections.
                                      maxRequestsPerConnection:
                                        type: integer
                                        description: Maximum number of requests per connection to a backend.
                                        format: int32
                                      maxRetries:
                                        type: integer
                                        format: int32
                                      useClientProtocol:
                                        type: boolean
                                        description: If set to true, client protocol will be preserved while initiating connection to backend.
                                  tcp:
                                    type: object
                                    description: Settings common to both HTTP and TCP upstream connections.
                                    properties:
                                      connectTimeout:
                                        type: string
                                        description: TCP connection timeout.
                                      maxConnections:
                                        type: integer
                                        description: Maximum number of HTTP1 /TCP connections to a destination host.
                                        format: int32
                                      tcpKeepalive:
                                        type: object
                                        description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                        properties:
                                          interval:
                                            type: string
                                            description: The time duration between keep-alive probes.
                                          probes:
                                            type: integer
                                          time:
                                            type: string
                              loadBalancer:
                                type: object
                                description: Settings controlling the load balancer algorithms.
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - simple
                                    - properties:
                                        consistentHash:
                                          oneOf:
                                          - not:
                                              anyOf:
                                              - required:
                                                - httpHeaderName
                                              - required:
                                                - httpCookie
                                              - required:
                                                - useSourceIp
                                              - required:
                                                - httpQueryParameterName
                                          - required:
                                            - httpHeaderName
                                          - required:
                                            - httpCookie
                                          - required:
                                            - useSourceIp
                                          - required:
                                            - httpQueryParameterName
                                      required:
                                      - consistentHash
                                - required:
                                  - simple
                                - properties:
                                    consistentHash:
                                      oneOf:
                                      - not:
                                          anyOf:
                                          - required:
                                            - httpHeaderName
                                          - required:
                                            - httpCookie
                                          - required:
                                            - useSourceIp
                                          - required:
                                            - httpQueryParameterName
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  required:
                                  - consistentHash
                                properties:
                                  consistentHash:
                                    type: object
                                    properties:
                                      httpCookie:
                                        type: object
                                        description: Hash based on HTTP cookie.
                                        properties:
                                          name:
                                            type: string
                                            description: Name of the cookie.
                                          path:
                                            type: string
                                            description: Path to set for the cookie.
                                          ttl:
                                            type: string
                                            description: Lifetime of the cookie.
                                      httpHeaderName:
                                        type: string
                                        description: Hash based on a specific HTTP header.
                                      httpQueryParameterName:
                                        type: string
                                        description: Hash based on a specific HTTP query parameter.
                                      minimumRingSize:
                                        type: integer
                                      useSourceIp:
                                        type: boolean
                                        description: Hash based on the source IP address.
                                  localityLbSetting:
                                    type: object
                                    properties:
                                      distribute:
                                        type: array
                                        description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                        items:
                                          type: object
                                          properties:
                                            from:
                                              type: string
                                              description: Originating locality, '/' separated, e.g.
                                            to:
                                              type: object
                                              additionalProperties:
                                                type: integer
                                              description: Map of upstream localities to traffic distribution weights.
                                      enabled:
                                        type: boolean
                                        description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                        nullable: true
                                      failover:
                                        type: array
                                        description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                        items:
                                          type: object
                                          properties:
                                            from:
                                              type: string
                                              description: Originating region.
                                            to:
                                              type: string
                                      failoverPriority:
                                        type: array
                                        description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                        items:
                                          type: string
                                  simple:
                                    type: string
                                    enum:
                                    - ROUND_ROBIN
                                    - LEAST_CONN
                                    - RANDOM
                                    - PASSTHROUGH
                              outlierDetection:
                                type: object
                                properties:
                                  baseEjectionTime:
                                    type: string
                                    description: Minimum ejection duration.
                                  consecutive5xxErrors:
                                    type: integer
                                    description: Number of 5xx errors before a host is ejected from the connection pool.
                                    nullable: true
                                  consecutiveErrors:
                                    type: integer
                                    format: int32
                                  consecutiveGatewayErrors:
                                    type: integer
                                    description: Number of gateway errors before a host is ejected from the connection pool.
                                    nullable: true
                                  consecutiveLocalOriginFailures:
                                    type: integer
                                    nullable: true
                                  interval:
                                    type: string
                                    description: Time interval between ejection sweep analysis.
                                  maxEjectionPercent:
                                    type: integer
                                    format: int32
                                  minHealthPercent:
                                    type: integer
                                    format: int32
                                  splitExternalLocalOriginErrors:
                                    type: boolean
                                    description: Determines whether to distinguish local origin failures from external errors.
                              tls:
                                type: object
                                description: TLS related settings for connections to the upstream service.
                                properties:
                                  caCertificates:
                                    type: string
                                  clientCertificate:
                                    type: string
                                    description: REQUIRED if mode is `MUTUAL`.
                                  credentialName:
                                    type: string
                                  insecureSkipVerify:
                                    type: boolean
                                    nullable: true
                                  mode:
                                    type: string
                                    enum:
                                    - DISABLE
                                    - SIMPLE
                                    - MUTUAL
                                    - ISTIO_MUTUAL
                                  privateKey:
                                    type: string
                                    description: REQUIRED if mode is `MUTUAL`.
                                  sni:
                                    type: string
                                    description: SNI string to present to the server during TLS handshake.
                                  subjectAltNames:
                                    type: array
                                    items:
                                      type: string
                        tls:
                          type: object
                          description: TLS related settings for connections to the upstream service.
                          properties:
                            caCertificates:
                              type: string
                            clientCertificate:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            credentialName:
                              type: string
                            insecureSkipVerify:
                              type: boolean
                              nullable: true
                            mode:
                              type: string
                              enum:
                              - DISABLE
                              - SIMPLE
                              - MUTUAL
                              - ISTIO_MUTUAL
                            privateKey:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            sni:
                              type: string
                              description: SNI string to present to the server during TLS handshake.
                            subjectAltNames:
                              type: array
                              items:
                                type: string
              trafficPolicy:
                type: object
                properties:
                  connectionPool:
                    type: object
                    properties:
                      http:
                        type: object
                        description: HTTP connection pool settings.
                        properties:
                          h2UpgradePolicy:
                            type: string
                            description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                            enum:
                            - DEFAULT
                            - DO_NOT_UPGRADE
                            - UPGRADE
                          http1MaxPendingRequests:
                            type: integer
                            description: Maximum number of pending HTTP requests to a destination.
                            format: int32
                          http2MaxRequests:
                            type: integer
                            description: Maximum number of requests to a backend.
                            format: int32
                          idleTimeout:
                            type: string
                            description: The idle timeout for upstream connection pool connections.
                          maxRequestsPerConnection:
                            type: integer
                            description: Maximum number of requests per connection to a backend.
                            format: int32
                          maxRetries:
                            type: integer
                            format: int32
                          useClientProtocol:
                            type: boolean
                            description: If set to true, client protocol will be preserved while initiating connection to backend.
                      tcp:
                        type: object
                        description: Settings common to both HTTP and TCP upstream connections.
                        properties:
                          connectTimeout:
                            type: string
                            description: TCP connection timeout.
                          maxConnections:
                            type: integer
                            description: Maximum number of HTTP1 /TCP connections to a destination host.
                            format: int32
                          tcpKeepalive:
                            type: object
                            description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                            properties:
                              interval:
                                type: string
                                description: The time duration between keep-alive probes.
                              probes:
                                type: integer
                              time:
                                type: string
                  loadBalancer:
                    type: object
                    description: Settings controlling the load balancer algorithms.
                    oneOf:
                    - not:
                        anyOf:
                        - required:
                          - simple
                        - properties:
                            consistentHash:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                              - required:
                                - httpHeaderName
                              - required:
                                - httpCookie
                              - required:
                                - useSourceIp
                              - required:
                                - httpQueryParameterName
                          required:
                          - consistentHash
                    - required:
                      - simple
                    - properties:
                        consistentHash:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - httpHeaderName
                              - required:
                                - httpCookie
                              - required:
                                - useSourceIp
                              - required:
                                - httpQueryParameterName
                          - required:
                            - httpHeaderName
                          - required:
                            - httpCookie
                          - required:
                            - useSourceIp
                          - required:
                            - httpQueryParameterName
                      required:
                      - consistentHash
                    properties:
                      consistentHash:
                        type: object
                        properties:
                          httpCookie:
                            type: object
                            description: Hash based on HTTP cookie.
                            properties:
                              name:
                                type: string
                                description: Name of the cookie.
                              path:
                                type: string
                                description: Path to set for the cookie.
                              ttl:
                                type: string
                                description: Lifetime of the cookie.
                          httpHeaderName:
                            type: string
                            description: Hash based on a specific HTTP header.
                          httpQueryParameterName:
                            type: string
                            description: Hash based on a specific HTTP query parameter.
                          minimumRingSize:
                            type: integer
                          useSourceIp:
                            type: boolean
                            description: Hash based on the source IP address.
                      localityLbSetting:
                        type: object
                        properties:
                          distribute:
                            type: array
                            description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                            items:
                              type: object
                              properties:
                                from:
                                  type: string
                                  description: Originating locality, '/' separated, e.g.
                                to:
                                  type: object
                                  additionalProperties:
                                    type: integer
                                  description: Map of upstream localities to traffic distribution weights.
                          enabled:
                            type: boolean
                            description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                            nullable: true
                          failover:
                            type: array
                            description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                            items:
                              type: object
                              properties:
                                from:
                                  type: string
                                  description: Originating region.
                                to:
                                  type: string
                          failoverPriority:
                            type: array
                            description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                            items:
                              type: string
                      simple:
                        type: string
                        enum:
                        - ROUND_ROBIN
                        - LEAST_CONN
                        - RANDOM
                        - PASSTHROUGH
                  outlierDetection:
                    type: object
                    properties:
                      baseEjectionTime:
                        type: string
                        description: Minimum ejection duration.
                      consecutive5xxErrors:
                        type: integer
                        description: Number of 5xx errors before a host is ejected from the connection pool.
                        nullable: true
                      consecutiveErrors:
                        type: integer
                        format: int32
                      consecutiveGatewayErrors:
                        type: integer
                        description: Number of gateway errors before a host is ejected from the connection pool.
                        nullable: true
                      consecutiveLocalOriginFailures:
                        type: integer
                        nullable: true
                      interval:
                        type: string
                        description: Time interval between ejection sweep analysis.
                      maxEjectionPercent:
                        type: integer
                        format: int32
                      minHealthPercent:
                        type: integer
                        format: int32
                      splitExternalLocalOriginErrors:
                        type: boolean
                        description: Determines whether to distinguish local origin failures from external errors.
                  portLevelSettings:
                    type: array
                    description: Traffic policies specific to individual ports.
                    items:
                      type: object
                      properties:
                        port:
                          type: object
                          properties:
                            number:
                              type: integer
                        connectionPool:
                          type: object
                          properties:
                            http:
                              type: object
                              description: HTTP connection pool settings.
                              properties:
                                h2UpgradePolicy:
                                  type: string
                                  description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                  enum:
                                  - DEFAULT
                                  - DO_NOT_UPGRADE
                                  - UPGRADE
                                http1MaxPendingRequests:
                                  type: integer
                                  description: Maximum number of pending HTTP requests to a destination.
                                  format: int32
                                http2MaxRequests:
                                  type: integer
                                  description: Maximum number of requests to a backend.
                                  format: int32
                                idleTimeout:
                                  type: string
                                  description: The idle timeout for upstream connection pool connections.
                                maxRequestsPerConnection:
                                  type: integer
                                  description: Maximum number of requests per connection to a backend.
                                  format: int32
                                maxRetries:
                                  type: integer
                                  format: int32
                                useClientProtocol:
                                  type: boolean
                                  description: If set to true, client protocol will be preserved while initiating connection to backend.
                            tcp:
                              type: object
                              description: Settings common to both HTTP and TCP upstream connections.
                              properties:
                                connectTimeout:
                                  type: string
                                  description: TCP connection timeout.
                                maxConnections:
                                  type: integer
                                  description: Maximum number of HTTP1 /TCP connections to a destination host.
                                  format: int32
                                tcpKeepalive:
                                  type: object
                                  description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                  properties:
                                    interval:
                                      type: string
                                      description: The time duration between keep-alive probes.
                                    probes:
                                      type: integer
                                    time:
                                      type: string
                        loadBalancer:
                          type: object
                          description: Settings controlling the load balancer algorithms.
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - simple
                              - properties:
                                  consistentHash:
                                    oneOf:
                                    - not:
                                        anyOf:
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                required:
                                - consistentHash
                          - required:
                            - simple
                          - properties:
                              consistentHash:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            required:
                            - consistentHash
                          properties:
                            consistentHash:
                              type: object
                              properties:
                                httpCookie:
                                  type: object
                                  description: Hash based on HTTP cookie.
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the cookie.
                                    path:
                                      type: string
                                      description: Path to set for the cookie.
                                    ttl:
                                      type: string
                                      description: Lifetime of the cookie.
                                httpHeaderName:
                                  type: string
                                  description: Hash based on a specific HTTP header.
                                httpQueryParameterName:
                                  type: string
                                  description: Hash based on a specific HTTP query parameter.
                                minimumRingSize:
                                  type: integer
                                useSourceIp:
                                  type: boolean
                                  description: Hash based on the source IP address.
                            localityLbSetting:
                              type: object
                              properties:
                                distribute:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating locality, '/' separated, e.g.
                                      to:
                                        type: object
                                        additionalProperties:
                                          type: integer
                                        description: Map of upstream localities to traffic distribution weights.
                                enabled:
                                  type: boolean
                                  description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                  nullable: true
                                failover:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating region.
                                      to:
                                        type: string
                                failoverPriority:
                                  type: array
                                  description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                  items:
                                    type: string
                            simple:
                              type: string
                              enum:
                              - ROUND_ROBIN
                              - LEAST_CONN
                              - RANDOM
                              - PASSTHROUGH
                        outlierDetection:
                          type: object
                          properties:
                            baseEjectionTime:
                              type: string
                              description: Minimum ejection duration.
                            consecutive5xxErrors:
                              type: integer
                              description: Number of 5xx errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveErrors:
                              type: integer
                              format: int32
                            consecutiveGatewayErrors:
                              type: integer
                              description: Number of gateway errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveLocalOriginFailures:
                              type: integer
                              nullable: true
                            interval:
                              type: string
                              description: Time interval between ejection sweep analysis.
                            maxEjectionPercent:
                              type: integer
                              format: int32
                            minHealthPercent:
                              type: integer
                              format: int32
                            splitExternalLocalOriginErrors:
                              type: boolean
                              description: Determines whether to distinguish local origin failures from external errors.
                        tls:
                          type: object
                          description: TLS related settings for connections to the upstream service.
                          properties:
                            caCertificates:
                              type: string
                            clientCertificate:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            credentialName:
                              type: string
                            insecureSkipVerify:
                              type: boolean
                              nullable: true
                            mode:
                              type: string
                              enum:
                              - DISABLE
                              - SIMPLE
                              - MUTUAL
                              - ISTIO_MUTUAL
                            privateKey:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            sni:
                              type: string
                              description: SNI string to present to the server during TLS handshake.
                            subjectAltNames:
                              type: array
                              items:
                                type: string
                  tls:
                    type: object
                    description: TLS related settings for connections to the upstream service.
                    properties:
                      caCertificates:
                        type: string
                      clientCertificate:
                        type: string
                        description: REQUIRED if mode is `MUTUAL`.
                      credentialName:
                        type: string
                      insecureSkipVerify:
                        type: boolean
                        nullable: true
                      mode:
                        type: string
                        enum:
                        - DISABLE
                        - SIMPLE
                        - MUTUAL
                        - ISTIO_MUTUAL
                      privateKey:
                        type: string
                        description: REQUIRED if mode is `MUTUAL`.
                      sni:
                        type: string
                        description: SNI string to present to the server during TLS handshake.
                      subjectAltNames:
                        type: array
                        items:
                          type: string
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
    served: true
    storage: true
    subresources:
      status: {}
  - name: v1beta1
    additionalPrinterColumns:
    - name: Host
      type: string
      description: The name of a service from the service registry
      jsonPath: .spec.host
    - name: Age
      type: date
      description: 'CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
      jsonPath: .metadata.creationTimestamp
    schema:
      openAPIV3Schema:
        type: object
        properties:
          spec:
            type: object
            description: 'Configuration affecting load balancing, outlier detection, etc. See more details at: https://istio.io/docs/reference/config/networking/destination-rule.html'
            properties:
              exportTo:
                type: array
                description: A list of namespaces to which this destination rule is exported.
                items:
                  type: string
              host:
                type: string
                description: The name of a service from the service registry.
              subsets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      description: Name of the subset.
                    labels:
                      type: object
                      additionalProperties:
                        type: string
                    trafficPolicy:
                      type: object
                      description: Traffic policies that apply to this subset.
                      properties:
                        connectionPool:
                          type: object
                          properties:
                            http:
                              type: object
                              description: HTTP connection pool settings.
                              properties:
                                h2UpgradePolicy:
                                  type: string
                                  description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                  enum:
                                  - DEFAULT
                                  - DO_NOT_UPGRADE
                                  - UPGRADE
                                http1MaxPendingRequests:
                                  type: integer
                                  description: Maximum number of pending HTTP requests to a destination.
                                  format: int32
                                http2MaxRequests:
                                  type: integer
                                  description: Maximum number of requests to a backend.
                                  format: int32
                                idleTimeout:
                                  type: string
                                  description: The idle timeout for upstream connection pool connections.
                                maxRequestsPerConnection:
                                  type: integer
                                  description: Maximum number of requests per connection to a backend.
                                  format: int32
                                maxRetries:
                                  type: integer
                                  format: int32
                                useClientProtocol:
                                  type: boolean
                                  description: If set to true, client protocol will be preserved while initiating connection to backend.
                            tcp:
                              type: object
                              description: Settings common to both HTTP and TCP upstream connections.
                              properties:
                                connectTimeout:
                                  type: string
                                  description: TCP connection timeout.
                                maxConnections:
                                  type: integer
                                  description: Maximum number of HTTP1 /TCP connections to a destination host.
                                  format: int32
                                tcpKeepalive:
                                  type: object
                                  description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                  properties:
                                    interval:
                                      type: string
                                      description: The time duration between keep-alive probes.
                                    probes:
                                      type: integer
                                    time:
                                      type: string
                        loadBalancer:
                          type: object
                          description: Settings controlling the load balancer algorithms.
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - simple
                              - properties:
                                  consistentHash:
                                    oneOf:
                                    - not:
                                        anyOf:
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                required:
                                - consistentHash
                          - required:
                            - simple
                          - properties:
                              consistentHash:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            required:
                            - consistentHash
                          properties:
                            consistentHash:
                              type: object
                              properties:
                                httpCookie:
                                  type: object
                                  description: Hash based on HTTP cookie.
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the cookie.
                                    path:
                                      type: string
                                      description: Path to set for the cookie.
                                    ttl:
                                      type: string
                                      description: Lifetime of the cookie.
                                httpHeaderName:
                                  type: string
                                  description: Hash based on a specific HTTP header.
                                httpQueryParameterName:
                                  type: string
                                  description: Hash based on a specific HTTP query parameter.
                                minimumRingSize:
                                  type: integer
                                useSourceIp:
                                  type: boolean
                                  description: Hash based on the source IP address.
                            localityLbSetting:
                              type: object
                              properties:
                                distribute:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating locality, '/' separated, e.g.
                                      to:
                                        type: object
                                        additionalProperties:
                                          type: integer
                                        description: Map of upstream localities to traffic distribution weights.
                                enabled:
                                  type: boolean
                                  description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                  nullable: true
                                failover:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating region.
                                      to:
                                        type: string
                                failoverPriority:
                                  type: array
                                  description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                  items:
                                    type: string
                            simple:
                              type: string
                              enum:
                              - ROUND_ROBIN
                              - LEAST_CONN
                              - RANDOM
                              - PASSTHROUGH
                        outlierDetection:
                          type: object
                          properties:
                            baseEjectionTime:
                              type: string
                              description: Minimum ejection duration.
                            consecutive5xxErrors:
                              type: integer
                              description: Number of 5xx errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveErrors:
                              type: integer
                              format: int32
                            consecutiveGatewayErrors:
                              type: integer
                              description: Number of gateway errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveLocalOriginFailures:
                              type: integer
                              nullable: true
                            interval:
                              type: string
                              description: Time interval between ejection sweep analysis.
                            maxEjectionPercent:
                              type: integer
                              format: int32
                            minHealthPercent:
                              type: integer
                              format: int32
                            splitExternalLocalOriginErrors:
                              type: boolean
                              description: Determines whether to distinguish local origin failures from external errors.
                        portLevelSettings:
                          type: array
                          description: Traffic policies specific to individual ports.
                          items:
                            type: object
                            properties:
                              port:
                                type: object
                                properties:
                                  number:
                                    type: integer
                              connectionPool:
                                type: object
                                properties:
                                  http:
                                    type: object
                                    description: HTTP connection pool settings.
                                    properties:
                                      h2UpgradePolicy:
                                        type: string
                                        description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                        enum:
                                        - DEFAULT
                                        - DO_NOT_UPGRADE
                                        - UPGRADE
                                      http1MaxPendingRequests:
                                        type: integer
                                        description: Maximum number of pending HTTP requests to a destination.
                                        format: int32
                                      http2MaxRequests:
                                        type: integer
                                        description: Maximum number of requests to a backend.
                                        format: int32
                                      idleTimeout:
                                        type: string
                                        description: The idle timeout for upstream connection pool connections.
                                      maxRequestsPerConnection:
                                        type: integer
                                        description: Maximum number of requests per connection to a backend.
                                        format: int32
                                      maxRetries:
                                        type: integer
                                        format: int32
                                      useClientProtocol:
                                        type: boolean
                                        description: If set to true, client protocol will be preserved while initiating connection to backend.
                                  tcp:
                                    type: object
                                    description: Settings common to both HTTP and TCP upstream connections.
                                    properties:
                                      connectTimeout:
                                        type: string
                                        description: TCP connection timeout.
                                      maxConnections:
                                        type: integer
                                        description: Maximum number of HTTP1 /TCP connections to a destination host.
                                        format: int32
                                      tcpKeepalive:
                                        type: object
                                        description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                        properties:
                                          interval:
                                            type: string
                                            description: The time duration between keep-alive probes.
                                          probes:
                                            type: integer
                                          time:
                                            type: string
                              loadBalancer:
                                type: object
                                description: Settings controlling the load balancer algorithms.
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - simple
                                    - properties:
                                        consistentHash:
                                          oneOf:
                                          - not:
                                              anyOf:
                                              - required:
                                                - httpHeaderName
                                              - required:
                                                - httpCookie
                                              - required:
                                                - useSourceIp
                                              - required:
                                                - httpQueryParameterName
                                          - required:
                                            - httpHeaderName
                                          - required:
                                            - httpCookie
                                          - required:
                                            - useSourceIp
                                          - required:
                                            - httpQueryParameterName
                                      required:
                                      - consistentHash
                                - required:
                                  - simple
                                - properties:
                                    consistentHash:
                                      oneOf:
                                      - not:
                                          anyOf:
                                          - required:
                                            - httpHeaderName
                                          - required:
                                            - httpCookie
                                          - required:
                                            - useSourceIp
                                          - required:
                                            - httpQueryParameterName
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  required:
                                  - consistentHash
                                properties:
                                  consistentHash:
                                    type: object
                                    properties:
                                      httpCookie:
                                        type: object
                                        description: Hash based on HTTP cookie.
                                        properties:
                                          name:
                                            type: string
                                            description: Name of the cookie.
                                          path:
                                            type: string
                                            description: Path to set for the cookie.
                                          ttl:
                                            type: string
                                            description: Lifetime of the cookie.
                                      httpHeaderName:
                                        type: string
                                        description: Hash based on a specific HTTP header.
                                      httpQueryParameterName:
                                        type: string
                                        description: Hash based on a specific HTTP query parameter.
                                      minimumRingSize:
                                        type: integer
                                      useSourceIp:
                                        type: boolean
                                        description: Hash based on the source IP address.
                                  localityLbSetting:
                                    type: object
                                    properties:
                                      distribute:
                                        type: array
                                        description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                        items:
                                          type: object
                                          properties:
                                            from:
                                              type: string
                                              description: Originating locality, '/' separated, e.g.
                                            to:
                                              type: object
                                              additionalProperties:
                                                type: integer
                                              description: Map of upstream localities to traffic distribution weights.
                                      enabled:
                                        type: boolean
                                        description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                        nullable: true
                                      failover:
                                        type: array
                                        description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                        items:
                                          type: object
                                          properties:
                                            from:
                                              type: string
                                              description: Originating region.
                                            to:
                                              type: string
                                      failoverPriority:
                                        type: array
                                        description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                        items:
                                          type: string
                                  simple:
                                    type: string
                                    enum:
                                    - ROUND_ROBIN
                                    - LEAST_CONN
                                    - RANDOM
                                    - PASSTHROUGH
                              outlierDetection:
                                type: object
                                properties:
                                  baseEjectionTime:
                                    type: string
                                    description: Minimum ejection duration.
                                  consecutive5xxErrors:
                                    type: integer
                                    description: Number of 5xx errors before a host is ejected from the connection pool.
                                    nullable: true
                                  consecutiveErrors:
                                    type: integer
                                    format: int32
                                  consecutiveGatewayErrors:
                                    type: integer
                                    description: Number of gateway errors before a host is ejected from the connection pool.
                                    nullable: true
                                  consecutiveLocalOriginFailures:
                                    type: integer
                                    nullable: true
                                  interval:
                                    type: string
                                    description: Time interval between ejection sweep analysis.
                                  maxEjectionPercent:
                                    type: integer
                                    format: int32
                                  minHealthPercent:
                                    type: integer
                                    format: int32
                                  splitExternalLocalOriginErrors:
                                    type: boolean
                                    description: Determines whether to distinguish local origin failures from external errors.
                              tls:
                                type: object
                                description: TLS related settings for connections to the upstream service.
                                properties:
                                  caCertificates:
                                    type: string
                                  clientCertificate:
                                    type: string
                                    description: REQUIRED if mode is `MUTUAL`.
                                  credentialName:
                                    type: string
                                  insecureSkipVerify:
                                    type: boolean
                                    nullable: true
                                  mode:
                                    type: string
                                    enum:
                                    - DISABLE
                                    - SIMPLE
                                    - MUTUAL
                                    - ISTIO_MUTUAL
                                  privateKey:
                                    type: string
                                    description: REQUIRED if mode is `MUTUAL`.
                                  sni:
                                    type: string
                                    description: SNI string to present to the server during TLS handshake.
                                  subjectAltNames:
                                    type: array
                                    items:
                                      type: string
                        tls:
                          type: object
                          description: TLS related settings for connections to the upstream service.
                          properties:
                            caCertificates:
                              type: string
                            clientCertificate:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            credentialName:
                              type: string
                            insecureSkipVerify:
                              type: boolean
                              nullable: true
                            mode:
                              type: string
                              enum:
                              - DISABLE
                              - SIMPLE
                              - MUTUAL
                              - ISTIO_MUTUAL
                            privateKey:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            sni:
                              type: string
                              description: SNI string to present to the server during TLS handshake.
                            subjectAltNames:
                              type: array
                              items:
                                type: string
              trafficPolicy:
                type: object
                properties:
                  connectionPool:
                    type: object
                    properties:
                      http:
                        type: object
                        description: HTTP connection pool settings.
                        properties:
                          h2UpgradePolicy:
                            type: string
                            description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                            enum:
                            - DEFAULT
                            - DO_NOT_UPGRADE
                            - UPGRADE
                          http1MaxPendingRequests:
                            type: integer
                            description: Maximum number of pending HTTP requests to a destination.
                            format: int32
                          http2MaxRequests:
                            type: integer
                            description: Maximum number of requests to a backend.
                            format: int32
                          idleTimeout:
                            type: string
                            description: The idle timeout for upstream connection pool connections.
                          maxRequestsPerConnection:
                            type: integer
                            description: Maximum number of requests per connection to a backend.
                            format: int32
                          maxRetries:
                            type: integer
                            format: int32
                          useClientProtocol:
                            type: boolean
                            description: If set to true, client protocol will be preserved while initiating connection to backend.
                      tcp:
                        type: object
                        description: Settings common to both HTTP and TCP upstream connections.
                        properties:
                          connectTimeout:
                            type: string
                            description: TCP connection timeout.
                          maxConnections:
                            type: integer
                            description: Maximum number of HTTP1 /TCP connections to a destination host.
                            format: int32
                          tcpKeepalive:
                            type: object
                            description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                            properties:
                              interval:
                                type: string
                                description: The time duration between keep-alive probes.
                              probes:
                                type: integer
                              time:
                                type: string
                  loadBalancer:
                    type: object
                    description: Settings controlling the load balancer algorithms.
                    oneOf:
                    - not:
                        anyOf:
                        - required:
                          - simple
                        - properties:
                            consistentHash:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                              - required:
                                - httpHeaderName
                              - required:
                                - httpCookie
                              - required:
                                - useSourceIp
                              - required:
                                - httpQueryParameterName
                          required:
                          - consistentHash
                    - required:
                      - simple
                    - properties:
                        consistentHash:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - httpHeaderName
                              - required:
                                - httpCookie
                              - required:
                                - useSourceIp
                              - required:
                                - httpQueryParameterName
                          - required:
                            - httpHeaderName
                          - required:
                            - httpCookie
                          - required:
                            - useSourceIp
                          - required:
                            - httpQueryParameterName
                      required:
                      - consistentHash
                    properties:
                      consistentHash:
                        type: object
                        properties:
                          httpCookie:
                            type: object
                            description: Hash based on HTTP cookie.
                            properties:
                              name:
                                type: string
                                description: Name of the cookie.
                              path:
                                type: string
                                description: Path to set for the cookie.
                              ttl:
                                type: string
                                description: Lifetime of the cookie.
                          httpHeaderName:
                            type: string
                            description: Hash based on a specific HTTP header.
                          httpQueryParameterName:
                            type: string
                            description: Hash based on a specific HTTP query parameter.
                          minimumRingSize:
                            type: integer
                          useSourceIp:
                            type: boolean
                            description: Hash based on the source IP address.
                      localityLbSetting:
                        type: object
                        properties:
                          distribute:
                            type: array
                            description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                            items:
                              type: object
                              properties:
                                from:
                                  type: string
                                  description: Originating locality, '/' separated, e.g.
                                to:
                                  type: object
                                  additionalProperties:
                                    type: integer
                                  description: Map of upstream localities to traffic distribution weights.
                          enabled:
                            type: boolean
                            description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                            nullable: true
                          failover:
                            type: array
                            description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                            items:
                              type: object
                              properties:
                                from:
                                  type: string
                                  description: Originating region.
                                to:
                                  type: string
                          failoverPriority:
                            type: array
                            description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                            items:
                              type: string
                      simple:
                        type: string
                        enum:
                        - ROUND_ROBIN
                        - LEAST_CONN
                        - RANDOM
                        - PASSTHROUGH
                  outlierDetection:
                    type: object
                    properties:
                      baseEjectionTime:
                        type: string
                        description: Minimum ejection duration.
                      consecutive5xxErrors:
                        type: integer
                        description: Number of 5xx errors before a host is ejected from the connection pool.
                        nullable: true
                      consecutiveErrors:
                        type: integer
                        format: int32
                      consecutiveGatewayErrors:
                        type: integer
                        description: Number of gateway errors before a host is ejected from the connection pool.
                        nullable: true
                      consecutiveLocalOriginFailures:
                        type: integer
                        nullable: true
                      interval:
                        type: string
                        description: Time interval between ejection sweep analysis.
                      maxEjectionPercent:
                        type: integer
                        format: int32
                      minHealthPercent:
                        type: integer
                        format: int32
                      splitExternalLocalOriginErrors:
                        type: boolean
                        description: Determines whether to distinguish local origin failures from external errors.
                  portLevelSettings:
                    type: array
                    description: Traffic policies specific to individual ports.
                    items:
                      type: object
                      properties:
                        port:
                          type: object
                          properties:
                            number:
                              type: integer
                        connectionPool:
                          type: object
                          properties:
                            http:
                              type: object
                              description: HTTP connection pool settings.
                              properties:
                                h2UpgradePolicy:
                                  type: string
                                  description: Specify if http1.1 connection should be upgraded to http2 for the associated destination.
                                  enum:
                                  - DEFAULT
                                  - DO_NOT_UPGRADE
                                  - UPGRADE
                                http1MaxPendingRequests:
                                  type: integer
                                  description: Maximum number of pending HTTP requests to a destination.
                                  format: int32
                                http2MaxRequests:
                                  type: integer
                                  description: Maximum number of requests to a backend.
                                  format: int32
                                idleTimeout:
                                  type: string
                                  description: The idle timeout for upstream connection pool connections.
                                maxRequestsPerConnection:
                                  type: integer
                                  description: Maximum number of requests per connection to a backend.
                                  format: int32
                                maxRetries:
                                  type: integer
                                  format: int32
                                useClientProtocol:
                                  type: boolean
                                  description: If set to true, client protocol will be preserved while initiating connection to backend.
                            tcp:
                              type: object
                              description: Settings common to both HTTP and TCP upstream connections.
                              properties:
                                connectTimeout:
                                  type: string
                                  description: TCP connection timeout.
                                maxConnections:
                                  type: integer
                                  description: Maximum number of HTTP1 /TCP connections to a destination host.
                                  format: int32
                                tcpKeepalive:
                                  type: object
                                  description: If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.
                                  properties:
                                    interval:
                                      type: string
                                      description: The time duration between keep-alive probes.
                                    probes:
                                      type: integer
                                    time:
                                      type: string
                        loadBalancer:
                          type: object
                          description: Settings controlling the load balancer algorithms.
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - simple
                              - properties:
                                  consistentHash:
                                    oneOf:
                                    - not:
                                        anyOf:
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                required:
                                - consistentHash
                          - required:
                            - simple
                          - properties:
                              consistentHash:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - httpHeaderName
                                    - required:
                                      - httpCookie
                                    - required:
                                      - useSourceIp
                                    - required:
                                      - httpQueryParameterName
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            required:
                            - consistentHash
                          properties:
                            consistentHash:
                              type: object
                              properties:
                                httpCookie:
                                  type: object
                                  description: Hash based on HTTP cookie.
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the cookie.
                                    path:
                                      type: string
                                      description: Path to set for the cookie.
                                    ttl:
                                      type: string
                                      description: Lifetime of the cookie.
                                httpHeaderName:
                                  type: string
                                  description: Hash based on a specific HTTP header.
                                httpQueryParameterName:
                                  type: string
                                  description: Hash based on a specific HTTP query parameter.
                                minimumRingSize:
                                  type: integer
                                useSourceIp:
                                  type: boolean
                                  description: Hash based on the source IP address.
                            localityLbSetting:
                              type: object
                              properties:
                                distribute:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating locality, '/' separated, e.g.
                                      to:
                                        type: object
                                        additionalProperties:
                                          type: integer
                                        description: Map of upstream localities to traffic distribution weights.
                                enabled:
                                  type: boolean
                                  description: enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
                                  nullable: true
                                failover:
                                  type: array
                                  description: 'Optional: only one of distribute, failover or failoverPriority can be set.'
                                  items:
                                    type: object
                                    properties:
                                      from:
                                        type: string
                                        description: Originating region.
                                      to:
                                        type: string
                                failoverPriority:
                                  type: array
                                  description: failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.
                                  items:
                                    type: string
                            simple:
                              type: string
                              enum:
                              - ROUND_ROBIN
                              - LEAST_CONN
                              - RANDOM
                              - PASSTHROUGH
                        outlierDetection:
                          type: object
                          properties:
                            baseEjectionTime:
                              type: string
                              description: Minimum ejection duration.
                            consecutive5xxErrors:
                              type: integer
                              description: Number of 5xx errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveErrors:
                              type: integer
                              format: int32
                            consecutiveGatewayErrors:
                              type: integer
                              description: Number of gateway errors before a host is ejected from the connection pool.
                              nullable: true
                            consecutiveLocalOriginFailures:
                              type: integer
                              nullable: true
                            interval:
                              type: string
                              description: Time interval between ejection sweep analysis.
                            maxEjectionPercent:
                              type: integer
                              format: int32
                            minHealthPercent:
                              type: integer
                              format: int32
                            splitExternalLocalOriginErrors:
                              type: boolean
                              description: Determines whether to distinguish local origin failures from external errors.
                        tls:
                          type: object
                          description: TLS related settings for connections to the upstream service.
                          properties:
                            caCertificates:
                              type: string
                            clientCertificate:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            credentialName:
                              type: string
                            insecureSkipVerify:
                              type: boolean
                              nullable: true
                            mode:
                              type: string
                              enum:
                              - DISABLE
                              - SIMPLE
                              - MUTUAL
                              - ISTIO_MUTUAL
                            privateKey:
                              type: string
                              description: REQUIRED if mode is `MUTUAL`.
                            sni:
                              type: string
                              description: SNI string to present to the server during TLS handshake.
                            subjectAltNames:
                              type: array
                              items:
                                type: string
                  tls:
                    type: object
                    description: TLS related settings for connections to the upstream service.
                    properties:
                      caCertificates:
                        type: string
                      clientCertificate:
                        type: string
                        description: REQUIRED if mode is `MUTUAL`.
                      credentialName:
                        type: string
                      insecureSkipVerify:
                        type: boolean
                        nullable: true
                      mode:
                        type: string
                        enum:
                        - DISABLE
                        - SIMPLE
                        - MUTUAL
                        - ISTIO_MUTUAL
                      privateKey:
                        type: string
                        description: REQUIRED if mode is `MUTUAL`.
                      sni:
                        type: string
                        description: SNI string to present to the server during TLS handshake.
                      subjectAltNames:
                        type: array
                        items:
                          type: string
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
    served: true
    storage: false
    subresources:
      status: {}
