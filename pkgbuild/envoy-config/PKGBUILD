# Maintainer: Sean Liao <mono-pkgbuild@seankhliao.com>

_pkgname=envoy-config
pkgname=${_pkgname}-git
pkgver=r2021.10.08.23.28
pkgrel=1
pkgdesc="envoyproxy config"
arch=(x86_64)
url="https://github.com/seankhliao/mono"
license=(MIT)
provides=(${_pkgname})
conflicts=(${_pkgname})
source=("config.yaml"
    envoy.service)
sha256sums=('718f3b79c1bff9a49d65245591523b41c23c340c607867be70750b55dbcb44af'
            'c51b8053b264500f820c3bd36623f4fcd3c23d770d479525c18aa633d25d416a')

package() {
  install -Dm644 config.yaml ${pkgdir}/etc/envoy/config.yaml
  install -Dm644 envoy.service ${pkgdir}/usr/lib/systemd/system/envoy.service
}

pkgver() {
    printf "r%s" "$(date +%Y.%m.%d.%H.%M)"
}
