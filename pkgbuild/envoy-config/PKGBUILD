# Maintainer: Sean Liao <mono-pkgbuild@seankhliao.com>

_pkgname=envoy-config
pkgname=${_pkgname}-git
pkgver=r2021.09.18.22.30
pkgrel=1
pkgdesc="envoyproxy config"
arch=(x86_64)
url="https://github.com/seankhliao/mono"
license=(MIT)
provides=(${_pkgname})
conflicts=(${_pkgname})
source=("config.yaml"
    envoy.service)
sha256sums=('3b4c45fa41d2ff5f43b2393e12546ecbab8ca2803d9dfa010325bbc7b838fb41'
            'c51b8053b264500f820c3bd36623f4fcd3c23d770d479525c18aa633d25d416a')

package() {
  install -Dm644 config.yaml ${pkgdir}/etc/envoy/config.yaml
  install -Dm644 envoy.service ${pkgdir}/usr/lib/systemd/system/envoy.service
}

pkgver() {
    printf "r%s" "$(date +%Y.%m.%d.%H.%M)"
}
